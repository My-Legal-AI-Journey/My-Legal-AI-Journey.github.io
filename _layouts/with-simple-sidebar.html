---
layout: default
---

<style>
  /* åªåœ¨åŸæœ‰å¸ƒå±€ä¸Šæ·»åŠ ä¾§è¾¹æ ï¼Œä¸æ”¹å˜å…¶ä»–æ ·å¼ */
  .page-body {
    display: flex;
    max-width: 1200px;
    margin: 0 auto;
    gap: 20px;
    padding: 20px;
  }
  
  .toc-sidebar {
    width: 250px;
    flex-shrink: 0;
    background: #f8f9fa;
    border-radius: 6px;
    padding: 15px;
    position: sticky;
    top: 20px;
    max-height: calc(100vh - 40px);
    overflow-y: auto;
    font-size: 13px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .main-content-area {
    flex: 1;
    min-width: 0;
  }
  
  .toc-title {
    font-size: 14px;
    font-weight: 600;
    margin: 0 0 12px 0;
    padding-bottom: 8px;
    border-bottom: 1px solid #e1e4e8;
    color: #24292e;
  }
  
  .toc-list {
    list-style: none;
    padding: 0;
    margin: 0 0 15px 0;
  }
  
  .toc-item {
    margin-bottom: 5px;
  }
  
  .toc-link {
    display: block;
    padding: 5px 8px;
    color: #586069;
    text-decoration: none;
    border-radius: 3px;
    transition: all 0.2s ease;
    line-height: 1.3;
    font-size: 12px;
  }
  
  .toc-link:hover {
    background: #0366d6;
    color: white;
  }
  
  .toc-level-2 {
    padding-left: 12px;
    font-size: 11px;
  }
  
  .toc-level-3 {
    padding-left: 20px;
    font-size: 11px;
    color: #6a737d;
  }
  
  .breadcrumb-nav {
    list-style: none;
    padding: 0;
    margin: 0 0 15px 0;
  }
  
  .breadcrumb-item {
    margin-bottom: 5px;
  }
  
  .breadcrumb-link {
    display: block;
    padding: 6px 8px;
    color: #586069;
    text-decoration: none;
    border-radius: 3px;
    transition: all 0.2s ease;
    line-height: 1.3;
    font-size: 12px;
  }
  
  .breadcrumb-link:hover {
    background: #28a745;
    color: white;
  }
  
  @media (max-width: 768px) {
    .page-body {
      flex-direction: column;
    }
    .toc-sidebar {
      width: 100%;
      position: static;
    }
  }
</style>

<div class="page-body">
  <!-- ä¾§è¾¹æ  -->
  <aside class="toc-sidebar">
    <!-- è¿”å›å¯¼èˆª -->
    <div class="toc-title">ğŸ”™ å¿«é€Ÿå¯¼èˆª</div>
    <ul class="breadcrumb-nav" id="breadcrumb-nav">
      <!-- åŠ¨æ€ç”Ÿæˆ -->
    </ul>
    
    <!-- æœ¬é¡µç›®å½• -->
    <div class="toc-title">ğŸ“‘ æœ¬é¡µç›®å½•</div>
    <div id="page-toc-container">
      <!-- åŠ¨æ€ç”Ÿæˆ -->
    </div>
  </aside>
  
  <!-- ä¸»å†…å®¹åŒº - å®Œå…¨ä¿æŒåŸä¸»é¢˜æ ·å¼ -->
  <main class="main-content-area">
    {{ content }}
  </main>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆª
  generateBreadcrumb();
  
  // ç”Ÿæˆé¡µé¢ç›®å½•
  generateTOC();
  
  // è®¾ç½®å¹³æ»‘æ»šåŠ¨
  setupSmoothScrolling();
});

function generateBreadcrumb() {
  const breadcrumbNav = document.getElementById('breadcrumb-nav');
  const currentPath = window.location.pathname;
  
  let breadcrumbHTML = '';
  
  // é¦–é¡µé“¾æ¥
  breadcrumbHTML += '<li class="breadcrumb-item"><a href="/" class="breadcrumb-link">ğŸ  è¿”å›é¦–é¡µ</a></li>';
  
  // æ ¹æ®å½“å‰é¡µé¢ç”Ÿæˆä¸Šçº§é“¾æ¥
  if (currentPath.includes('/legal-notes/')) {
    breadcrumbHTML += '<li class="breadcrumb-item"><a href="/legal-notes/" class="breadcrumb-link">ğŸ“š æ³•å­¦ç¬”è®°ä¸»é¡µ</a></li>';
  }
  
  if (currentPath.includes('/civil-law/') && currentPath !== '/civil-law/') {
    breadcrumbHTML += '<li class="breadcrumb-item"><a href="/civil-law/" class="breadcrumb-link">âš–ï¸ æ°‘æ³•ç¬”è®°ä¸»é¡µ</a></li>';
  }
  
  if (currentPath.includes('/intellectual-property/') && currentPath !== '/intellectual-property/') {
    breadcrumbHTML += '<li class="breadcrumb-item"><a href="/intellectual-property/" class="breadcrumb-link">ğŸ’¡ çŸ¥è¯†äº§æƒæ³•ä¸»é¡µ</a></li>';
  }
  
  breadcrumbNav.innerHTML = breadcrumbHTML;
}

function generateTOC() {
  const mainContent = document.querySelector('.main-content-area');
  const headings = mainContent.querySelectorAll('h2, h3, h4');
  const tocContainer = document.getElementById('page-toc-container');
  
  if (headings.length === 0) {
    tocContainer.innerHTML = '<p style="color: #6a737d; font-size: 11px; padding: 0 8px; margin: 0;">æœ¬é¡µæš‚æ— æ ‡é¢˜</p>';
    return;
  }
  
  let tocHTML = '<ul class="toc-list">';
  
  headings.forEach((heading, index) => {
    const level = parseInt(heading.tagName.substring(1));
    const id = heading.id || `heading-${index}`;
    heading.id = id;
    
    const text = heading.textContent.trim();
    const levelClass = `toc-level-${level}`;
    
    tocHTML += `
      <li class="toc-item">
        <a href="#${id}" class="toc-link ${levelClass}">${text}</a>
      </li>
    `;
  });
  
  tocHTML += '</ul>';
  tocContainer.innerHTML = tocHTML;
}

function setupSmoothScrolling() {
  const links = document.querySelectorAll('.toc-link');
  links.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      const href = this.getAttribute('href');
      const targetElement = document.querySelector(href);
      if (targetElement) {
        targetElement.scrollIntoView({ 
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
}
</script>
